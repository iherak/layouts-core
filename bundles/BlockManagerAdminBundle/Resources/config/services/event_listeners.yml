parameters:
    netgen_block_manager.event_listener.layout_view.rule_count.class: Netgen\Bundle\BlockManagerAdminBundle\EventListener\LayoutView\RuleCountListener
    netgen_block_manager.event_listener.rule_view.rule_view.class: Netgen\Bundle\BlockManagerAdminBundle\EventListener\RuleView\RuleViewListener
    netgen_block_manager.event_listener.admin_authentication_exception.class: Netgen\Bundle\BlockManagerAdminBundle\EventListener\AdminAuthenticationExceptionListener
    netgen_block_manager.event_listener.set_is_admin_request.class: Netgen\Bundle\BlockManagerAdminBundle\EventListener\SetIsAdminRequestListener
    netgen_block_manager.event_listener.admin_csrf_validation_listener.class: Netgen\Bundle\BlockManagerAdminBundle\EventListener\CsrfValidation\AdminCsrfValidationListener

services:
    netgen_block_manager.event_listener.layout_view.rule_count:
        class: "%netgen_block_manager.event_listener.layout_view.rule_count.class%"
        arguments:
            - "@netgen_block_manager.api.service.layout_resolver"
        tags:
            - { name: kernel.event_subscriber }

    netgen_block_manager.event_listener.rule_view.rule_view:
        class: "%netgen_block_manager.event_listener.rule_view.rule_view.class%"
        arguments:
            - "@netgen_block_manager.layout.resolver.registry.target_type"
            - "@netgen_block_manager.layout.resolver.registry.condition_type"
        tags:
            - { name: kernel.event_subscriber }

    netgen_block_manager.event_listener.admin_authentication_exception:
        class: "%netgen_block_manager.event_listener.admin_authentication_exception.class%"
        tags:
            - { name: kernel.event_subscriber }

    netgen_block_manager.event_listener.set_is_admin_request:
        class: "%netgen_block_manager.event_listener.set_is_admin_request.class%"
        tags:
            - { name: kernel.event_subscriber }

    netgen_block_manager.event_listener.admin_csrf_validation_listener:
        class: "%netgen_block_manager.event_listener.admin_csrf_validation_listener.class%"
        arguments:
            - "@security.csrf.token_manager"
            - "%netgen_block_manager.admin.csrf_token_id%"
        tags:
            - { name: kernel.event_subscriber }
