{% macro collection(collections, identifier, item_view_type, view_context) %}
    {% if collections[identifier] is defined and collections[identifier] is not empty %}
        <div class="list-row">
            {% for result in collections[identifier] %}
                <div class="list-item">
                    {{ ngbm_render_item(result.item, item_view_type, {}, view_context) }}
                </div>
            {% endfor %}
        </div>
    {% endif %}
{% endmacro %}

{% macro inline_template(string, parameters) %}
{% spaceless %}
    {% if '{{' in string and '}}' in string and '{%' not in string and '{#' not in string %}
        {{ include(template_from_string(string), parameters, with_context = false)|e }}
    {% else %}
        {{ string }}
    {% endif %}
{% endspaceless %}
{% endmacro %}
